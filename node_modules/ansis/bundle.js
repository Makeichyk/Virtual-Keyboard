"use strict";Object.defineProperty(exports,"__esModule",{value:!0});const e=function(e){let[,t]=/([a-f\d]{3,6})/i.exec(e)||[];const n=t?t.length:0;if(3===n)t=t[0]+t[0]+t[1]+t[1]+t[2]+t[2];else if(6!==n)return[0,0,0];const r=parseInt(t,16);return[r>>16&255,r>>8&255,255&r]},t=(e,t,n)=>t>e?t:e>n?n:e,n=function(e,t,n){let r=e.indexOf(t);if(r<0)return e;const o=t.length;let s=0,i="";for(;~r;)i+=e.substr(s,r-s)+n,s=r+o,r=e.indexOf(t,s);return i+e.substr(s)},r=(e=>{const t=e||(process||{}),n=t.env||{},r=t.argv||[],o=t.stdout&&t.stdout.isTTY,s="NO_COLOR"in n||r.includes("--no-color")||r.includes("--color=false"),i="FORCE_COLOR"in n||r.includes("--color"),c="dumb"!==n.TERM&&/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(n.TERM),g=o&&c||"win32"===t.platform;return!s&&(i||g||"CI"in n)})(),o={open:"",close:""},s=r?([e,t])=>({open:`[${e}m`,close:`[${t}m`}):()=>o,i={reset:s([0,0]),inverse:s([7,27]),hidden:s([8,28]),bold:s([1,22]),dim:s([2,22]),faint:s([2,22]),italic:s([3,23]),underline:s([4,24]),doubleUnderline:s([21,24]),strikethrough:s([9,29]),strike:s([9,29]),frame:s([51,54]),encircle:s([52,54]),overline:s([53,55]),black:s([30,39]),red:s([31,39]),green:s([32,39]),yellow:s([33,39]),blue:s([34,39]),magenta:s([35,39]),cyan:s([36,39]),white:s([37,39]),gray:s([90,39]),grey:s([90,39]),blackBright:s([90,39]),redBright:s([91,39]),greenBright:s([92,39]),yellowBright:s([93,39]),blueBright:s([94,39]),magentaBright:s([95,39]),cyanBright:s([96,39]),whiteBright:s([97,39]),bgBlack:s([40,49]),bgRed:s([41,49]),bgGreen:s([42,49]),bgYellow:s([43,49]),bgBlue:s([44,49]),bgMagenta:s([45,49]),bgCyan:s([46,49]),bgWhite:s([47,49]),bgBlackBright:s([100,49]),bgRedBright:s([101,49]),bgGreenBright:s([102,49]),bgYellowBright:s([103,49]),bgBlueBright:s([104,49]),bgMagentaBright:s([105,49]),bgCyanBright:s([106,49]),bgWhiteBright:s([107,49])},c={ansi256:r?e=>({open:`[38;5;${e}m`,close:"[39m"}):()=>o,bgAnsi256:r?e=>({open:`[48;5;${e}m`,close:"[49m"}):()=>o,rgb:r?(e,t,n)=>({open:`[38;2;${e};${t};${n}m`,close:"[39m"}):()=>o,bgRgb:r?(e,t,n)=>({open:`[48;2;${e};${t};${n}m`,close:"[49m"}):()=>o};class g{constructor(){const e=e=>e;return Object.setPrototypeOf(e,u),e}}const l={},p=/(\r*\n)/g,b=(e,t,r)=>{let o=e,s=t;void 0!==r&&(o=r.openStack+e,s=t+r.closeStack);const i=e=>((e,t)=>{if(!e)return"";const{openStack:r,closeStack:o}=t;if(~e.indexOf(""))for(;void 0!==t;)e=n(e,t.close,t.open),t=t.parent;return~e.indexOf("\n")&&(e=e.replace(p,o+"$1"+r)),r+e+o})(e,i.props);return Object.setPrototypeOf(i,u),i.props={open:e,close:t,openStack:o,closeStack:s,parent:r},i.open=o,i.close=s,i};for(let e in i){const{open:t,close:n}=i[e];l[e]={get(){const r=b(t,n,this.props);return Object.defineProperty(this,e,{value:r}),r}}}l.visible={get(){return b("","",this.props)}},l.ansi256={get(){return e=>{e=t(e,0,255);const{open:n,close:r}=c.ansi256(e);return b(n,r,this.props)}}},l.bgAnsi256={get(){return e=>{e=t(e,0,255);const{open:n,close:r}=c.bgAnsi256(e);return b(n,r,this.props)}}},l.rgb={get(){return(e,n,r)=>{e=t(e,0,255),n=t(n,0,255),r=t(r,0,255);const{open:o,close:s}=c.rgb(e,n,r);return b(o,s,this.props)}}},l.hex={get(){return t=>{const{open:n,close:r}=c.rgb(...e(t));return b(n,r,this.props)}}},l.bgRgb={get(){return(e,n,r)=>{e=t(e,0,255),n=t(n,0,255),r=t(r,0,255);const{open:o,close:s}=c.bgRgb(e,n,r);return b(o,s,this.props)}}},l.bgHex={get(){return t=>{const{open:n,close:r}=c.bgRgb(...e(t));return b(n,r,this.props)}}},l.ansi=l.ansi256,l.fg=l.ansi256,l.bgAnsi=l.bgAnsi256,l.bg=l.bgAnsi256;const u=Object.defineProperties((()=>{}),l),a=new g;exports.Ansis=g,exports.default=a;
